import { gsap } from 'gsap'

import assSmoke1frame00 from 'url:/src/img/smoke/smoke_1_00.png'
import assSmoke1frame01 from 'url:/src/img/smoke/smoke_1_01.png'
import assSmoke1frame02 from 'url:/src/img/smoke/smoke_1_02.png'
import assSmoke1frame03 from 'url:/src/img/smoke/smoke_1_03.png'
import assSmoke1frame04 from 'url:/src/img/smoke/smoke_1_04.png'
import assSmoke1frame05 from 'url:/src/img/smoke/smoke_1_05.png'
import assSmoke1frame06 from 'url:/src/img/smoke/smoke_1_06.png'
import assSmoke1frame07 from 'url:/src/img/smoke/smoke_1_07.png'
import assSmoke1frame08 from 'url:/src/img/smoke/smoke_1_08.png'
import assSmoke1frame09 from 'url:/src/img/smoke/smoke_1_09.png'
import assSmoke1frame10 from 'url:/src/img/smoke/smoke_1_10.png'
import assSmoke1frame11 from 'url:/src/img/smoke/smoke_1_11.png'
import assSmoke1frame12 from 'url:/src/img/smoke/smoke_1_12.png'
import assSmoke1frame13 from 'url:/src/img/smoke/smoke_1_13.png'
import assSmoke1frame14 from 'url:/src/img/smoke/smoke_1_14.png'
import assSmoke1frame15 from 'url:/src/img/smoke/smoke_1_15.png'
import assSmoke1frame16 from 'url:/src/img/smoke/smoke_1_16.png'
import assSmoke1frame17 from 'url:/src/img/smoke/smoke_1_17.png'
import assSmoke1frame18 from 'url:/src/img/smoke/smoke_1_18.png'
import assSmoke1frame19 from 'url:/src/img/smoke/smoke_1_19.png'
import assSmoke1frame20 from 'url:/src/img/smoke/smoke_1_20.png'
import assSmoke1frame21 from 'url:/src/img/smoke/smoke_1_21.png'
import assSmoke1frame22 from 'url:/src/img/smoke/smoke_1_22.png'
import assSmoke1frame23 from 'url:/src/img/smoke/smoke_1_23.png'
import assSmoke1frame24 from 'url:/src/img/smoke/smoke_1_24.png'
import assSmoke1frame25 from 'url:/src/img/smoke/smoke_1_25.png'
import assSmoke1frame26 from 'url:/src/img/smoke/smoke_1_26.png'
import assSmoke1frame27 from 'url:/src/img/smoke/smoke_1_27.png'
import assSmoke1frame28 from 'url:/src/img/smoke/smoke_1_28.png'
import assSmoke1frame29 from 'url:/src/img/smoke/smoke_1_29.png'
import assSmoke1frame30 from 'url:/src/img/smoke/smoke_1_30.png'
import assSmoke1frame31 from 'url:/src/img/smoke/smoke_1_31.png'
import assSmoke1frame32 from 'url:/src/img/smoke/smoke_1_32.png'
import assSmoke1frame33 from 'url:/src/img/smoke/smoke_1_33.png'
import assSmoke1frame34 from 'url:/src/img/smoke/smoke_1_34.png'
import assSmoke1frame35 from 'url:/src/img/smoke/smoke_1_35.png'
import assSmoke1frame36 from 'url:/src/img/smoke/smoke_1_36.png'
import assSmoke1frame37 from 'url:/src/img/smoke/smoke_1_37.png'
import assSmoke1frame38 from 'url:/src/img/smoke/smoke_1_38.png'
import assSmoke1frame39 from 'url:/src/img/smoke/smoke_1_39.png'
import assSmoke1frame40 from 'url:/src/img/smoke/smoke_1_40.png'
import assSmoke1frame41 from 'url:/src/img/smoke/smoke_1_41.png'
import assSmoke1frame42 from 'url:/src/img/smoke/smoke_1_42.png'
import assSmoke1frame43 from 'url:/src/img/smoke/smoke_1_43.png'
import assSmoke1frame44 from 'url:/src/img/smoke/smoke_1_44.png'
import assSmoke1frame45 from 'url:/src/img/smoke/smoke_1_45.png'
import assSmoke1frame46 from 'url:/src/img/smoke/smoke_1_46.png'
import assSmoke1frame47 from 'url:/src/img/smoke/smoke_1_47.png'
import assSmoke1frame48 from 'url:/src/img/smoke/smoke_1_48.png'
import assSmoke1frame49 from 'url:/src/img/smoke/smoke_1_49.png'
import assSmoke1frame50 from 'url:/src/img/smoke/smoke_1_50.png'
import assSmoke1frame51 from 'url:/src/img/smoke/smoke_1_51.png'
import assSmoke1frame52 from 'url:/src/img/smoke/smoke_1_52.png'
import assSmoke1frame53 from 'url:/src/img/smoke/smoke_1_53.png'
import assSmoke1frame54 from 'url:/src/img/smoke/smoke_1_54.png'
import assSmoke1frame55 from 'url:/src/img/smoke/smoke_1_55.png'
import assSmoke1frame56 from 'url:/src/img/smoke/smoke_1_56.png'
import assSmoke1frame57 from 'url:/src/img/smoke/smoke_1_57.png'
import assSmoke1frame58 from 'url:/src/img/smoke/smoke_1_58.png'
import assSmoke1frame59 from 'url:/src/img/smoke/smoke_1_59.png'
import assSmoke2frame00 from 'url:/src/img/smoke/smoke_2_00.png'
import assSmoke2frame01 from 'url:/src/img/smoke/smoke_2_01.png'
import assSmoke2frame02 from 'url:/src/img/smoke/smoke_2_02.png'
import assSmoke2frame03 from 'url:/src/img/smoke/smoke_2_03.png'
import assSmoke2frame04 from 'url:/src/img/smoke/smoke_2_04.png'
import assSmoke2frame05 from 'url:/src/img/smoke/smoke_2_05.png'
import assSmoke2frame06 from 'url:/src/img/smoke/smoke_2_06.png'
import assSmoke2frame07 from 'url:/src/img/smoke/smoke_2_07.png'
import assSmoke2frame08 from 'url:/src/img/smoke/smoke_2_08.png'
import assSmoke2frame09 from 'url:/src/img/smoke/smoke_2_09.png'
import assSmoke2frame10 from 'url:/src/img/smoke/smoke_2_10.png'
import assSmoke2frame11 from 'url:/src/img/smoke/smoke_2_11.png'
import assSmoke2frame12 from 'url:/src/img/smoke/smoke_2_12.png'
import assSmoke2frame13 from 'url:/src/img/smoke/smoke_2_13.png'
import assSmoke2frame14 from 'url:/src/img/smoke/smoke_2_14.png'
import assSmoke2frame15 from 'url:/src/img/smoke/smoke_2_15.png'
import assSmoke2frame16 from 'url:/src/img/smoke/smoke_2_16.png'
import assSmoke2frame17 from 'url:/src/img/smoke/smoke_2_17.png'
import assSmoke2frame18 from 'url:/src/img/smoke/smoke_2_18.png'
import assSmoke2frame19 from 'url:/src/img/smoke/smoke_2_19.png'
import assSmoke2frame20 from 'url:/src/img/smoke/smoke_2_20.png'
import assSmoke2frame21 from 'url:/src/img/smoke/smoke_2_21.png'
import assSmoke2frame22 from 'url:/src/img/smoke/smoke_2_22.png'
import assSmoke2frame23 from 'url:/src/img/smoke/smoke_2_23.png'
import assSmoke2frame24 from 'url:/src/img/smoke/smoke_2_24.png'
import assSmoke2frame25 from 'url:/src/img/smoke/smoke_2_25.png'
import assSmoke2frame26 from 'url:/src/img/smoke/smoke_2_26.png'
import assSmoke2frame27 from 'url:/src/img/smoke/smoke_2_27.png'
import assSmoke2frame28 from 'url:/src/img/smoke/smoke_2_28.png'
import assSmoke2frame29 from 'url:/src/img/smoke/smoke_2_29.png'
import assSmoke2frame30 from 'url:/src/img/smoke/smoke_2_30.png'
import assSmoke2frame31 from 'url:/src/img/smoke/smoke_2_31.png'
import assSmoke2frame32 from 'url:/src/img/smoke/smoke_2_32.png'
import assSmoke2frame33 from 'url:/src/img/smoke/smoke_2_33.png'
import assSmoke2frame34 from 'url:/src/img/smoke/smoke_2_34.png'
import assSmoke2frame35 from 'url:/src/img/smoke/smoke_2_35.png'
import assSmoke2frame36 from 'url:/src/img/smoke/smoke_2_36.png'
import assSmoke2frame37 from 'url:/src/img/smoke/smoke_2_37.png'
import assSmoke2frame38 from 'url:/src/img/smoke/smoke_2_38.png'
import assSmoke2frame39 from 'url:/src/img/smoke/smoke_2_39.png'
import assSmoke2frame40 from 'url:/src/img/smoke/smoke_2_40.png'
import assSmoke2frame41 from 'url:/src/img/smoke/smoke_2_41.png'
import assSmoke2frame42 from 'url:/src/img/smoke/smoke_2_42.png'
import assSmoke2frame43 from 'url:/src/img/smoke/smoke_2_43.png'
import assSmoke2frame44 from 'url:/src/img/smoke/smoke_2_44.png'
import assSmoke2frame45 from 'url:/src/img/smoke/smoke_2_45.png'
import assSmoke2frame46 from 'url:/src/img/smoke/smoke_2_46.png'
import assSmoke2frame47 from 'url:/src/img/smoke/smoke_2_47.png'
import assSmoke2frame48 from 'url:/src/img/smoke/smoke_2_48.png'
import assSmoke2frame49 from 'url:/src/img/smoke/smoke_2_49.png'
import assSmoke2frame50 from 'url:/src/img/smoke/smoke_2_50.png'
import assSmoke2frame51 from 'url:/src/img/smoke/smoke_2_51.png'
import assSmoke2frame52 from 'url:/src/img/smoke/smoke_2_52.png'
import assSmoke2frame53 from 'url:/src/img/smoke/smoke_2_53.png'
import assSmoke2frame54 from 'url:/src/img/smoke/smoke_2_54.png'
import assSmoke2frame55 from 'url:/src/img/smoke/smoke_2_55.png'
import assSmoke2frame56 from 'url:/src/img/smoke/smoke_2_56.png'
import assSmoke2frame57 from 'url:/src/img/smoke/smoke_2_57.png'
import g from './glob'
import { ifFunctionThenCall } from './utils'

const setSmokes = () => {
  const assSmokeFrames = {
    smoke1: [
      assSmoke1frame00,
      assSmoke1frame01,
      assSmoke1frame02,
      assSmoke1frame03,
      assSmoke1frame04,
      assSmoke1frame05,
      assSmoke1frame06,
      assSmoke1frame07,
      assSmoke1frame08,
      assSmoke1frame09,
      assSmoke1frame10,
      assSmoke1frame11,
      assSmoke1frame12,
      assSmoke1frame13,
      assSmoke1frame14,
      assSmoke1frame15,
      assSmoke1frame16,
      assSmoke1frame17,
      assSmoke1frame18,
      assSmoke1frame19,
      assSmoke1frame20,
      assSmoke1frame21,
      assSmoke1frame22,
      assSmoke1frame23,
      assSmoke1frame24,
      assSmoke1frame25,
      assSmoke1frame26,
      assSmoke1frame27,
      assSmoke1frame28,
      assSmoke1frame29,
      assSmoke1frame30,
      assSmoke1frame31,
      assSmoke1frame32,
      assSmoke1frame33,
      assSmoke1frame34,
      assSmoke1frame35,
      assSmoke1frame36,
      assSmoke1frame37,
      assSmoke1frame38,
      assSmoke1frame39,
      assSmoke1frame40,
      assSmoke1frame41,
      assSmoke1frame42,
      assSmoke1frame43,
      assSmoke1frame44,
      assSmoke1frame45,
      assSmoke1frame46,
      assSmoke1frame47,
      assSmoke1frame48,
      assSmoke1frame49,
      assSmoke1frame50,
      assSmoke1frame51,
      assSmoke1frame52,
      assSmoke1frame53,
      assSmoke1frame54,
      assSmoke1frame55,
      assSmoke1frame56,
      assSmoke1frame57,
      assSmoke1frame58,
      assSmoke1frame59,
    ],
    smoke2: [
      assSmoke2frame00,
      assSmoke2frame01,
      assSmoke2frame02,
      assSmoke2frame03,
      assSmoke2frame04,
      assSmoke2frame05,
      assSmoke2frame06,
      assSmoke2frame07,
      assSmoke2frame08,
      assSmoke2frame09,
      assSmoke2frame10,
      assSmoke2frame11,
      assSmoke2frame12,
      assSmoke2frame13,
      assSmoke2frame14,
      assSmoke2frame15,
      assSmoke2frame16,
      assSmoke2frame17,
      assSmoke2frame18,
      assSmoke2frame19,
      assSmoke2frame20,
      assSmoke2frame21,
      assSmoke2frame22,
      assSmoke2frame23,
      assSmoke2frame24,
      assSmoke2frame25,
      assSmoke2frame26,
      assSmoke2frame27,
      assSmoke2frame28,
      assSmoke2frame29,
      assSmoke2frame30,
      assSmoke2frame31,
      assSmoke2frame32,
      assSmoke2frame33,
      assSmoke2frame34,
      assSmoke2frame35,
      assSmoke2frame36,
      assSmoke2frame37,
      assSmoke2frame38,
      assSmoke2frame39,
      assSmoke2frame40,
      assSmoke2frame41,
      assSmoke2frame42,
      assSmoke2frame43,
      assSmoke2frame44,
      assSmoke2frame45,
      assSmoke2frame46,
      assSmoke2frame47,
      assSmoke2frame48,
      assSmoke2frame49,
      assSmoke2frame50,
      assSmoke2frame51,
      assSmoke2frame52,
      assSmoke2frame53,
      assSmoke2frame54,
      assSmoke2frame55,
      assSmoke2frame56,
      assSmoke2frame57,
    ],
  }

  g.el.smoke.forEach(smoke => {
    g.qss.smoke[smoke.id] = []
    let whichSmokeFrames
    Object.keys(assSmokeFrames).forEach(asf => {
      if (smoke.classList.contains(asf)) whichSmokeFrames = assSmokeFrames[asf]
    })
    if (whichSmokeFrames) {
      whichSmokeFrames.forEach(smkF => {
        const smokeFrame = g.document.createElement('img')
        smokeFrame.src = smkF
        smokeFrame.classList.add('smokeFrame', `${smoke.id}Frame`)
        smoke.appendChild(smokeFrame)
        g.qss.smoke[smoke.id].push(gsap.quickSetter(smokeFrame, 'opacity'))
      })
    }
    g.smoke[smoke.id] = {
      frame: 0,
      slow: 1,
    }
  })
}

const smokeTick = (smokeId, loop = false, slowFactor = 1) => {
  if (g.smoke[smokeId].slow === slowFactor) {
    const prevSmokeFrame = g.smoke[smokeId].frame - 1
    if (g.qss.smoke[smokeId][prevSmokeFrame]) g.qss.smoke[smokeId][prevSmokeFrame](0)
    if (loop && !g.qss.smoke[smokeId][g.smoke[smokeId].frame]) {
      g.smoke[smokeId].frame = 0
    }
    if (g.qss.smoke[smokeId][g.smoke[smokeId].frame]) {
      g.qss.smoke[smokeId][g.smoke[smokeId].frame](1)
      g.smoke[smokeId].frame++
    } else {
      ifFunctionThenCall(g.smoke[smokeId].unTick)
      g.smoke[smokeId].frame = 0
    }
    g.smoke[smokeId].slow = 1
  } else g.smoke[smokeId].slow++
}

const stoneSmokeTick1 = () => {
  smokeTick('stoneSmoke1', true)
}

const stoneSmokeTick2 = () => {
  smokeTick('stoneSmoke2', false, 2)
}

const stoneSmokeTick3 = () => {
  smokeTick('stoneSmoke2', false)
}

export {
  setSmokes, stoneSmokeTick1, stoneSmokeTick2, stoneSmokeTick3,
}
